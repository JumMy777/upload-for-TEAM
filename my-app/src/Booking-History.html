<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <title>UwU</title>
    <meta
      name="viewport"
      content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <link rel="icon" type="image/x-icon" href="./assets/icon/LOGO.png" />
    <link rel="manifest" href="./manifest.json" />
    <link rel="stylesheet" href="./css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script type="module" src="./js/main.js"></script>
    <meta name="theme-color" content="#31d53d" />
  </head>

  <body>
    <div class="container mt-5">
      <h2>Hotel Booking History</h2>
      <div class="row mt-4">
        <div class="col-md-6">
          <h3>Recent Hotel Bookings</h3>
          <ul class="list-group" id="recentBookings">
            <li class="list-group-item">
              Booking ID: 001 | Hotel Name: Watergate Hotel | Check-in Date:
              2024-04-01 | Check-out Date: 2024-04-05
              <button
                type="button"
                class="btn btn-primary btn-sm float-right"
                onclick="viewBookingDetails(1)"
              >
                View Details
              </button>
            </li>
            <li class="list-group-item">
              Booking ID: 002 | Hotel Name: Floor al | Check-in Date: 2024-03-20
              | Check-out Date: 2024-03-25
              <button
                type="button"
                class="btn btn-primary btn-sm float-right"
                onclick="viewBookingDetails(2)"
              >
                View Details
              </button>
            </li>
          </ul>
        </div>
        <div class="col-md-6">
          <h3>Previous Hotel Bookings</h3>
          <ul class="list-group" id="previousBookings">
            <li class="list-group-item">
              Booking ID: 003 | Hotel Name: Watergate Hotel | Check-in Date:
              2024-03-05 | Check-out Date: 2024-03-10
              <button
                type="button"
                class="btn btn-primary btn-sm float-right"
                onclick="viewBookingDetails(3)"
              >
                View Details
              </button>
            </li>
            <li class="list-group-item">
              Booking ID: 004 | Hotel Name: Watergate Hotel | Check-in Date:
              2024-02-15 | Check-out Date: 2024-02-20
              <button
                type="button"
                class="btn btn-primary btn-sm float-right"
                onclick="viewBookingDetails(4)"
              >
                View Details
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Modal for Viewing Booking Details -->
    <div
      class="modal fade"
      id="bookingDetailsModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="bookingDetailsModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="bookingDetailsModalLabel">
              Booking Details
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" id="bookingDetailsBody">
            <!-- Booking details will be dynamically added here -->
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-danger"
              id="deleteBookingBtn"
              data-dismiss="modal"
              onclick="deleteBooking()"
            >
              Delete
            </button>
            <button type="button" class="btn btn-primary" data-dismiss="modal">
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- End of Modal -->

    <script>
      function viewBookingDetails(bookingId) {
        const modalBody = document.getElementById("bookingDetailsBody");
        if (modalBody) {
          // Fetch booking details from the server using the bookingId and update modal body
          modalBody.innerHTML = `
          <p>Booking ID: ${bookingId}</p>
          <p>Hotel Name: ${getHotelName(bookingId)}</p>
          <p>Check-in Date: ${getCheckInDate(bookingId)}</p>
          <p>Check-out Date: ${getCheckOutDate(bookingId)}</p>
        `;
        }
        $("#bookingDetailsModal").modal("show");
      }

      function getHotelName(bookingId) {
        // This function should fetch hotel name from the server based on the bookingId
        // For demonstration purposes, returning a sample hotel name
        if (bookingId === 1 || bookingId === 2) {
          return "Marriott";
        } else if (bookingId === 3 || bookingId === 4) {
          return "Sheraton";
        }
      }

      function getCheckInDate(bookingId) {
        // This function should fetch check-in date from the server based on the bookingId
        // For demonstration purposes, returning a sample check-in date
        if (bookingId === 1) {
          return "2024-04-01";
        } else if (bookingId === 2) {
          return "2024-03-20";
        } else if (bookingId === 3) {
          return "2024-03-05";
        } else if (bookingId === 4) {
          return "2024-02-15";
        }
      }

      function getCheckOutDate(bookingId) {
        // This function should fetch check-out date from the server based on the bookingId
        // For demonstration purposes, returning a sample check-out date
        if (bookingId === 1) {
          return "2024-04-05";
        } else if (bookingId === 2) {
          return "2024-03-25";
        } else if (bookingId === 3) {
          return "2024-03-10";
        } else if (bookingId === 4) {
          return "2024-02-20";
        }
      }

      function deleteBooking() {
        // Simulated function to delete the booking (replace with actual logic)
        alert("Booking deleted successfully!");
        // You can implement actual delete logic here, like making an API call to delete the booking from the server
      }
    </script>
  </body>
</html>
